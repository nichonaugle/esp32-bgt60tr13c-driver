#ifndef BGT60TR13C_CONFIG_H
#define BGT60TR13C_CONFIG_H

/* DO NOT CHANGE */
#define XENSIV_BGT60TR13C_CONF_NUM_RX_ANTENNAS (3)
#define XENSIV_BGT60TR13C_CONF_NUM_TX_ANTENNAS (1)

/* Set for long-range radar settings based on Datasheet Case #1, Shape 2 */
#define XENSIV_BGT60TR13C_CONF_START_FREQ_HZ (60000000000ULL)    // 60 GHz start frequency [cite: 670]
#define XENSIV_BGT60TR13C_CONF_BANDWIDTH_HZ (2000000000ULL)      // 2 GHz bandwidth [cite: 670]
#define XENSIV_BGT60TR13C_CONF_END_FREQ_HZ (XENSIV_BGT60TR13C_CONF_START_FREQ_HZ + XENSIV_BGT60TR13C_CONF_BANDWIDTH_HZ) // 62 GHz
#define XENSIV_BGT60TR13C_CONF_NUM_SAMPLES_PER_CHIRP (256)      // APU = 256 samples [cite: 670]
#define XENSIV_BGT60TR13C_CONF_NUM_CHIRPS_PER_FRAME (16)        // REPS = 4 => 2^4 = 16 chirps [cite: 326, 666]
#define XENSIV_BGT60TR13C_CONF_SAMPLE_RATE_HZ (2000000)           // ADC_DIV = 40 => 80MHz/40 = 2MSps [cite: 665]

// Chirp duration: T_RAMP_UP (133.5us) + T_SED_AFTER_SHAPE (60us from PLL1_7)
#define XENSIV_BGT60TR13C_CONF_CHIRP_DURATION_S (0.0001335)     // T_RAMP_UP
#define XENSIV_BGT60TR13C_CONF_PAUSE_AFTER_CHIRP_S (0.0000600)  // T_SED from PLL1_7
#define XENSIV_BGT60TR13C_CONF_CHIRP_REPETITION_TIME_S (XENSIV_BGT60TR13C_CONF_CHIRP_DURATION_S + XENSIV_BGT60TR13C_CONF_PAUSE_AFTER_CHIRP_S) // Approx 0.0001935 s

// Frame repetition: Active frame part + T_FED (Frame End Delay from CCR1)
#define XENSIV_BGT60TR13C_CONF_ACTIVE_FRAME_TIME_S (XENSIV_BGT60TR13C_CONF_NUM_CHIRPS_PER_FRAME * XENSIV_BGT60TR13C_CONF_CHIRP_REPETITION_TIME_S) // Approx 0.003096 s
#define XENSIV_BGT60TR13C_CONF_PAUSE_AFTER_FRAME_S (0.001) // T_FED from CCR1 (1ms)
#define XENSIV_BGT60TR13C_CONF_FRAME_REPETITION_TIME_S (XENSIV_BGT60TR13C_CONF_ACTIVE_FRAME_TIME_S + XENSIV_BGT60TR13C_CONF_PAUSE_AFTER_FRAME_S) // Approx 0.004096 s

#define XENSIV_BGT60TR13C_CONF_NUM_FRAMES_TO_RUN (1) // MAX_FRAME_CNT from CCR2

#define XENSIV_BGT60TR13C_CONF_NUM_REGS (27)

#define XENSIV_BGT60TR13C_IRQ_TRIGGER_FRAME_SIZE (XENSIV_BGT60TR13C_CONF_NUM_SAMPLES_PER_CHIRP / 2) // Example: interrupt when half chirp data is ready (FIFO words)

const uint32_t radar_init_register_list[] = { 
	0x001E74E0,
	0x020A0A40,
	0x08E967FD,
	0x0A080574,
	0x0C1027FF,
	0x0E010D00,
	0x2013FCD3,
	0x2275141F,
	0x24707F9F,
	0x2C000494,
	0x5825820E,
	0x5AE2724F,
	0x5C00F008,
	0x5E55D464,
	0x60DC0000,
	0x62000132,
	0x64000537,
	0x66000100,
	0x68000000,
	0x6A000000,
	0x6C010000,
	0x6E14B314,
	0x7E000100,
	0x8E000100,
	0x9E000100,
	0xAC000000,
	0xB2000000,
};

#endif /* BGT60TR13C_CONFIG_H */